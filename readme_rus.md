# FileCopyEx - история версий #

## Версия 2.0.0 beta (в процессе тестирования) ##
  * Переход на Far 2 API.
  * Полная поддержка Unicode (выброшена туча кода перекодирования в OEM/ANSI).
  * Версии для x86 и x64.
  * Переделан менеджер памяти - строки и контейнеры заменены на стандартные C++ stl - теперь не будет вылазить ошибка Framework index size limit exceeded на большом количестве файлов.
  * Исправлены мелкие баги типа глючных теней от окна прогресса копирования.
  * Убрана панель очереди копирования.
  * Устранены утечки памяти.
  * Добавлено отображение прогресса копирования на иконке в панели задач windows 7.

## Версия 1.9.0 beta (bugfixes by Axxie & slst) ##
  * Теперь при сканировании каталогов можно нажать Esc для отмены операции.
  * В диалог сканирования каталогов добавлен вывод информации о количестве и объёме просканированных файлов.
  * Перед копированием проверяется свободное место на устройстве назначения.
  * Горячие клавиши в диалогах копирования и перезаписи приведены в соответствие с горячими клавишами стандартного копировальщика.
  * Немного ускорен процесс сканирования каталогов.
  * После переименования файла курсор оставался на старом месте в панели.
  * Теперь из целевого пути кавычки убираются полностью.
  * Создана русскоязычная справка. Исправлена ошибка вызова справки.
  * При копировании в корень сетевого каталога на другой машине плагин ругался.
  * Копирование стримов не работало в NT4.
  * Не выводилось сообщение об ошибке, если каталог источник и каталог назначения совпадали.
  * Плагин не запускался из каталога с русским именем.
  * Теперь плагин более корректно работает с файлами открытыми другими процессами. При попытке записи в файл открытый другим процессом на запись выдается сообщение об ошибке. Добавлена новая опция, позволяющая разрешить чтение файлов открытых другими процессами на запись.
  * Исправлена ошибка расчета времени до конца копирования в параллельном режиме.
  * При копировании могло неправильно отображаться имя читаемого/записываемого файла.
  * Ожидание ответа пользователя засчитывалось в прошедшее время, но не в общее время копирования.
  * Плагин не мог скопировать каталог в nul в 9x.
  * Если заменяемый файл являлся жесткой связью, происходил разрыв связи.
  * Не обрабатывались смонтированные в каталог диски (Volume Mount Point).
  * Плагин не копировал файлы, если доступ хотя бы в один из родительских каталогов был запрещён.
  * Плагин не мог скопировать символическую связь с другой машины.
  * В 9х иногда возникали ошибки копирования.
  * При переименовании файла с изменением только регистра имени происходил сброс атрибутов.
  * При переименовании файла с изменением только регистра имени происходило удаление соответствующей записи из файла описаний.
  * При замене файла происходило дублирование записей в файле описаний.
  * При пропуске файлов могли не копироваться даже те файлы, которые должны были копироваться.

## Версия 1.8.2 beta (bugfixes by Axxie [axxie-no-spam@filecopyex.org.ua ](.md)) ##
  * Автоопределение параллельного копирования при копировании с одного HDD на другой работает теперь в NT 4.
  * Исправлена ошибка с включением параллельного копирования по умолчанию при вызове плагина через Shift-F5/Shift-F6.
  * С любезного разрешения Дениса Порфирьева его плагин FileCopyEx AutoAW включен в поставку. Это позволит решить проблему разных версий плагина FileCopyEx для разных ОС.
  * Добавлен проект для сборки с помощью Visual Studio 6.
  * Исправлена ошибка, возникавшая, когда целевой путь был сетевым.
  * Исправлена ошибка с невозможностью установки атрибута Encrypted при копировании.
  * Исправлены горячие клавиши для Rename (спасибо CDK).
  * Исправлена ошибка перемещения файлов с потоками между двумя разделами (снова спасибо CDK).
  * [experimental](experimental.md) Для разделения групп разрядов теперь используется пробел, а не запятая.

## Версия 1.8.1 alpha (bugfixes by CDK) ##
  * Исправлена работа с панелями плагинов, содержащими реальные имена фалов (TempPanel, Branch).
  * [experimental](experimental.md) Исправлена низкая скорость копирования на Flash.
  * [experimental](experimental.md) Изменён цвет меток в диалоге прогресса копирования на тёмно синий.

## Версия 1.8 beta (bugfixes by slst [slst-remove-me@mail333.com ](.md)) ##
  * При копировании из симлинков плагин зависал.
  * Иногда при копировании рекурсивных симлинков происходило переполнение стека.
  * Ввод имен/путей в кавычках приводил к ошибкам типа "error creating output file".
  * Под Windows 2000 теперь корректно работает автоопределение параллельного копирования при копировании с одного HDD на другой.
  * Диалогу запроса перезаписи файла добавлен стиль FDLG\_WARNING (фон красного цвета).
  * FileCopyExW.dll (Unicode version) - тестировалась под Windows 2000 SP4 / Far v1.70 alpha 6 build 2039.
  * FileCopyExA.dll (ANSI version) - не тестировалась.

## Версия 1.7 beta (автор версий до 1.7 включительно - craZZy [crazzy-remove-me@magnusoft.com ](.md)) ##
  * Правильно обрабатываются описания файлов, содержащих в имени пробелы и русские буквы.
  * Устранены проблемы при копировании файлов из очереди в FAR 1.70b5.
  * ESC правильно работает при подтверждении прерывания копирования.

## Версия 1.6 beta ##
  * При копировании больших файлов место под них размещается сразу (порог размера настраивается).
  * Возможность отключать подтверждение завершения по ESC.
  * GetSectorSize failed исправлено.
  * Устранены вылеты при параллельном копировании.
  * Более правильный подсчет времени (учитывая время на открытие/закрытие файлов). Однако, при параллельном копировании это помогает не сильно.
  * Немного ускорено копирование мелких файлов.
  * Восстановлен режим "Добавить" (правда, пока он работает всегда в буферизованном режиме, что может влиять на производительность).
  * Мелкие исправления.
  * Исходные тексты плагина включены в комплект поставки.

## Версия 1.5 beta ##
  * Поддержка UNICODE.
  * Исправлена ошибка при вызове Extended Copy из панели плагина (например, архивной).
  * Очередь копирования - более удобная реализация временной панели.
  * Небуферизованное чтение и запись должны еще больше ускорить процесс копирования.
  * Возможность ограничения скорости чтения/записи.
  * Продолжение копирования, прерванного пользователем или из-за ошибки.
  * Улучшенная обработка ошибок: кнопка "Пропустить все", возможность открыть файл заново перед повтором (для восстановления после ошибок сети).
  * Точное различение разных физических устройств в Windows XP.
  * Все глюки в работе с описаниями, надеюсь, исправлены :)
  * Возможность использовать прогресс-индикаторы в стиле CONNECT.
  * Много других возможностей...

> Эта версия была полностью переписана, поэтому многие старые ошибки исчезли, но могли появиться и новые. Ошибки, найденные в этой бета-версии:(пожалуйста, обратите внимание на ошибки, отмеченные знаком <b>?</b>. Они вроде бы были исправлены и не должны появляться. Если они все-таки появятся, пожалуйста, дайте мне знать. Не забудьте как можно подробнее описать ситуацию, в которой произошла ошибка. Также, сообщайте об обнаружении ошибок, отсутствующих в этом списке)
    * Не все описания могут быть скопированы, если копирование прервано пользователем.
    * Режим "Дописать" не реализован.
    * Помещение пропущенных файлов на временную панель не реализовано.
    * Переименование файлов в win9x может быть слишком медленным.
    * Режим автоматического переименоваия может иногда работать неправильно.
    * (?) Копирование в NUL в win9x может не работать.
    * (?) Иногда плагин вылетает при включенном "Параллельном копировании".
    * (?) Ошибка "Invalid buffer" может возникнуть при использовании режима продолжения.
    * (?) Содержимое файла может быть неправильным при использовании опции "Открыть файл заново перед повтором".
    * После перемещения могут оставаться пустые каталоги.
    * Система помощи пока осталась от старой версии.

## Версия 1.34 ##
  * Переименование каталогов не работало, если в них имелись открытые файлы (происходило копирование и удаление вместо переименования).
  * Поддержка многострочных описаний.
  * Размер буфера теперь можно указывать и в процентах от объема памяти, и в килобайтах.
  * Опции для подтверждения прерывания по ESC и сигнала после долгих операций.
  * Окно прогресса копирования рисуется стандартными FAR'овскими цветами в FAR 1.70 и выше.
  * Копирование потоков NTFS теперь работает.
  * Предупреждение о невозможности записи больше не выдается при копировании на CD-RW.
  * Плагин теперь правильно работает с файлами больше 2ГБ.
  * Корректная обработка ошибок записи (файл не продолжает читаться после ошибки записи).
  * Некоторые новые опции для работы с описаниями.
  * Описания терялись при переименовании без перемещения в другой каталог.

> Глюки, найденные в этой версии (будут исправлены в следующей):
    * Обработка описаний не всегда работает правильно и иногда приводит к их потере. Так что лучше сразу отключить эту опцию.
    * Плагин рушится, если суммарный размер копируемых файлов равен нулю.
    * При активизации плагина из панели архива или другой панели плагина должен вызываться стандартный диалог копирования, но он не вызывается.

## Версия 1.33 ##
  * Не выдает "Ошибку выделения памяти" на машинах с объемом ОЗУ более 128 МБ.
  * Удаляет каталоги с атрибутом "только для чтения".
  * Правильно сохраняет опцию "Снимать read-only с компакт-дисков".

## Версия 1.3 ##
  * Новые опции копирования - "Копировать только новые" и "Пропущенные файлы на временную панель". Эти опции имеются как в диалоге копирования, так и в диалоге перезаписи.
  * Размер буфера теперь указывается в процентах от общего объема памяти.
  * Новые опции конфигурации - "Параллельное копирование по умолчанию", "Снимать атрибут Read-only с CD", "Показывать опции для работы с NTFS".
  * Опции, специфичные для NTFS, показываются только в Windows NT/2000 и если включен соответствующий флажок в окне конфигурации.
  * Теперь не нужна регистрация плагина с помощью FileCopyEx.reg - горячие клавиши настраиваются в диалоге конфигурации.
  * Полноценная работа с описаниями, включая обновление описаний внутри подкаталогов (см. help).
  * Показ общего объема копируемых файлов.
  * Показ прогресса копирования в заголовке консоли.
  * Возможность ввода переменных окружения в диалоге копирования.
  * Предупреждение в случае невозможности копирования потоков, прав доступа, установки атрибутов сжатия и шифрования на диске назначения, или в случае неверного пути назначения.
  * Быстрое перемещение в пределах одного устройства (путем переименования) теперь работает в Windows 95/98.
  * Русский и английский интерфейс.
  * Исправление мелких ошибок.

## Версия 1.02 ##
  * Теперь не возникает Access Denied при перезаписи файлов на FAT32 разделах.